(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-74509dd1"],{"0069":function(t,e,r){"use strict";r.r(e);var a=r("ade3"),n=r("c7eb"),i=r("1da1"),c=(r("d9e2"),r("4de4"),r("a15b"),r("d81d"),r("b0c0"),r("a9e3"),r("d3b7"),r("25f0"),r("9d44")),o=r("2ef0"),u=r.n(o),s={props:{disabled:{type:Boolean,default:!1},value:{type:Array,default:function(){return[]}},countryId:{type:String,default:""},valueKey:{type:String,default:""},maxLevel:{type:Number,default:2}},computed:{districtFormatter:{get:function(){var t=this;return this.valueKey?this.tValue.map((function(e){return e[t.valueKey]})):[]},set:function(t){var e=t;this.valueKey&&e.length&&(e=this.getDistrictArr(this.$refs.districtCascader.getCheckedNodes(!1)[0])),this.tValue=e,this.$emit("input",e)}}},watch:{value:{immediate:!0,deep:!0,handler:function(t,e){var r=this;this.checkError(),this.valueIsEqual(this.tValue,t)||(this.tValue=t,this.refreshDistrict(),setTimeout((function(){r.valueKey&&0===t.filter((function(t){return t.value})).length&&(r.$refs.districtCascader.presentText=t.map((function(t){return t.label||""})).join(" / "))})))}},countryId:{immediate:!1,deep:!0,handler:function(t,e){this.refreshDistrict()}}},data:function(){var t=this;return{tValue:[],districtProps:{expandTrigger:"hover",lazy:!0,lazyLoad:function(){var e=Object(i.a)(Object(n.a)().mark((function e(r,a){var i,c,o,u;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=r.level,r.data,c=r.value,o=[],u=i,null!=c&&(t.provinceCode=c);case 5:if(!(u<t.maxLevel)){e.next=15;break}return e.next=8,t.api_getRegion(u,c,i);case 8:if(!((o=e.sent).length>0||2==u)){e.next=12;break}return a(o),e.abrupt("break",15);case 12:u++,e.next=5;break;case 15:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},regionLoading:!1,districtVisible:!0}},methods:{api_getRegion:function(t,e,r){var a=this;return Object(i.a)(Object(n.a)().mark((function e(){var i,o,u,s;return Object(n.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.regionLoading=!0,o={},1==t&&(o.provinceCode=a.provinceCode),e.prev=3,u=null,0!=t){e.next=11;break}return e.next=8,Object(c.e)();case 8:u=e.sent,e.next=15;break;case 11:if(1!=t){e.next=15;break}return e.next=14,Object(c.c)(o);case 14:u=e.sent;case 15:if(200!==u.code){e.next=20;break}s=u.data.map((function(e){var n={};return 0==t?n={label:e.provinceName,value:e.code}:1==t&&(n={label:e.name,value:e.code}),0==t?n.type="province":1==t?n.type="city":2==t&&(n.type="county"),t>=a.maxLevel-1&&(n.leaf=!0),a.tValue[r]&&!a.tValue[r+1]&&a.tValue[r].value===n.value&&(n.leaf=!0),n})),i=Promise.resolve(s),e.next=21;break;case 20:throw new Error(u.msg);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(3),a.$message.error(e.t0.message),i=Promise.reject();case 27:return a.regionLoading=!1,e.abrupt("return",i);case 29:case"end":return e.stop()}}),e,null,[[3,23]])})))()},refreshDistrict:function(){var t=this;this.districtVisible=!1,this.$nextTick((function(){t.districtVisible=!0}))},getDistrictArr:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.unshift({label:t.label,value:t.value,type:t.data.type}),t.parent?this.getDistrictArr(t.parent,e):e},checkError:function(){if(this.tValue.length&&("[object Object]"!==Object.prototype.toString.call(this.tValue[0])||!this.tValue[0].hasOwnProperty(this.valueKey)))throw new Error("检测到v-model的是一个对象数组，必须指定 value-key 作为它的唯一性标识。")},valueIsEqual:function(t,e){var r=this;return u.a.isEqual(t.map((function(t){return Object(a.a)({},r.valueKey,t[r.valueKey])})),e.map((function(t){return Object(a.a)({},r.valueKey,t[r.valueKey])})))}},created:function(){this.checkError()}},l=s,d=r("2877"),f=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[t.districtVisible?r("el-cascader",{ref:"districtCascader",staticStyle:{width:"100%"},attrs:{props:t.districtProps,placeholder:3===t.maxLevel?"请选择省/市/区":"请选择省/市",clearable:"",disabled:t.disabled},model:{value:t.districtFormatter,callback:function(e){t.districtFormatter=e},expression:"districtFormatter"}}):t._e()],1)}),[],!1,null,"1558ba7e",null);e.default=f.exports},"9d44":function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i})),r.d(e,"j",(function(){return c})),r.d(e,"h",(function(){return o})),r.d(e,"i",(function(){return u})),r.d(e,"f",(function(){return s})),r.d(e,"e",(function(){return l})),r.d(e,"c",(function(){return d})),r.d(e,"d",(function(){return f})),r.d(e,"g",(function(){return p}));var a=r("b775");function n(t){return Object(a.a)({url:"/carbon/calc/airTransportCEmission",method:"post",data:t})}function i(t){return Object(a.a)({url:"/carbon/calc/automobileTransportCEmission",method:"post",data:t})}function c(t){return Object(a.a)({url:"/carbon/calc/transportCEmissionSeaCalc",method:"post",data:t})}function o(t){return Object(a.a)({url:"/carbon/calc/transportCEmissionFastCalc",method:"post",data:t})}function u(t){return Object(a.a)({url:"/carbon/calc/transportCEmissionRailwayCalc",method:"post",data:t})}function s(t){return Object(a.a)({url:"/carbon/calc/logisticsStationCEmissionCalc",method:"post",data:t})}function l(){return Object(a.a)({url:"/carbon/province/city/getProvinceListByLike/",method:"get"})}function d(t){return Object(a.a)({url:"/carbon/province/city/getCityListByLikeAndPCode",method:"post",data:t})}function f(t){return Object(a.a)({url:"/carbon/addressLocate/getLocationMessageByAddress",method:"post",data:t})}function p(t){return Object(a.a)({url:"/carbon/calcOrg/organizationalCarbonCalculate",method:"post",data:t})}}}]);