(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4608be54","chunk-2d0abad8","chunk-2d21406a"],{"07ac":function(t,e,n){var r=n("23e7"),a=n("6f53").values;r({target:"Object",stat:!0},{values:function(t){return a(t)}})},"15fd":function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(r=0;r<i.length;r++)n=i[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}n.d(e,"a",(function(){return r})),n("a4d3"),n("caad"),n("2532")},"4e9f":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i})),n.d(e,"i",(function(){return o})),n.d(e,"g",(function(){return c})),n.d(e,"d",(function(){return s})),n.d(e,"c",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"e",(function(){return d})),n.d(e,"h",(function(){return m}));var r=n("b775");function a(t){return Object(r.a)({url:"/carbon/airport/getAirportByCityName/"+t,method:"get"})}function i(t){return Object(r.a)({url:"/carbon/airport/getAirportPageByNameLike",method:"post",data:t})}function o(){return Object(r.a)({url:"/carbon/calc/getVehicleTypeList",method:"get"})}function c(){return Object(r.a)({url:"/carbon/power/fuel/getPowerAndFuelList",method:"get"})}function s(){return Object(r.a)({url:"/carbon/calc/getFactorProjectList",method:"get"})}function u(t){return Object(r.a)({url:"/dict/data/type/"+t,method:"get"})}function l(t){return Object(r.a)({url:"/carbon/port/getPortPageByPortName",method:"post",data:t})}function d(t){return Object(r.a)({url:"/carbon/port/getPortPageByCityName",method:"post",data:t})}function m(t){return Object(r.a)({url:"/carbon/railwayStation/getRailwayStationPageByName",method:"post",data:t})}},"6f53":function(t,e,n){var r=n("83ab"),a=n("e330"),i=n("df75"),o=n("fc6a"),c=a(n("d1e7").f),s=a([].push),u=function(t){return function(e){for(var n,a=o(e),u=i(a),l=u.length,d=0,m=[];l>d;)n=u[d++],r&&!c(a,n)||s(m,t?[n,a[n]]:a[n]);return m}};t.exports={entries:u(!0),values:u(!1)}},"78b9":function(t,e,n){},"9d44":function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i})),n.d(e,"j",(function(){return o})),n.d(e,"h",(function(){return c})),n.d(e,"i",(function(){return s})),n.d(e,"f",(function(){return u})),n.d(e,"e",(function(){return l})),n.d(e,"c",(function(){return d})),n.d(e,"d",(function(){return m})),n.d(e,"g",(function(){return f}));var r=n("b775");function a(t){return Object(r.a)({url:"/carbon/calc/airTransportCEmission",method:"post",data:t})}function i(t){return Object(r.a)({url:"/carbon/calc/automobileTransportCEmission",method:"post",data:t})}function o(t){return Object(r.a)({url:"/carbon/calc/transportCEmissionSeaCalc",method:"post",data:t})}function c(t){return Object(r.a)({url:"/carbon/calc/transportCEmissionFastCalc",method:"post",data:t})}function s(t){return Object(r.a)({url:"/carbon/calc/transportCEmissionRailwayCalc",method:"post",data:t})}function u(t){return Object(r.a)({url:"/carbon/calc/logisticsStationCEmissionCalc",method:"post",data:t})}function l(){return Object(r.a)({url:"/carbon/province/city/getProvinceListByLike/",method:"get"})}function d(t){return Object(r.a)({url:"/carbon/province/city/getCityListByLikeAndPCode",method:"post",data:t})}function m(t){return Object(r.a)({url:"/carbon/addressLocate/getLocationMessageByAddress",method:"post",data:t})}function f(t){return Object(r.a)({url:"/carbon/calcOrg/organizationalCarbonCalculate",method:"post",data:t})}},ab46:function(t,e,n){"use strict";n.r(e);var r=n("5530"),a=n("c7eb"),i=n("1da1"),o=n("15fd"),c=(n("99af"),n("4de4"),n("7db0"),n("d81d"),n("14d9"),n("a9e3"),n("b64b"),n("d3b7"),n("07ac"),n("ac1f"),n("466d"),n("5319"),n("159b"),n("9d44")),s=n("4e9f"),u=n("aed4"),l=n("ed08"),d=n("4360");var m=["oriLatAndLng","midLatAndLng","destLatAndLng"],f={props:{cateNo:{type:String},id:{type:[String,Number]},type:{type:String,default:"add"},quick:{type:Boolean,default:!1}},data:function(){return{cacheDestCity:null,cacheOriCity:null,projectListOption:[],fuelListOptions:null,loading:!1,tForm:{origin:null,dest:null,powerType:null,fuelType:null,freightStation:null,transportWeight:null,transportType:6,factorProject:"122",quickCal:!1,powerOrFuelName:"",actualEnergyConsumption:null},originOptions:[{label:"测试始发站",value:636440}],freightStationOptions:[{label:"⼆连境",value:1},{label:"满洲⾥境",value:2},{label:"阿拉⼭⼝境",value:3},{label:"霍尔果斯境",value:4}],destOptions:[{label:"测试目的站",value:950807}],fuelTypeOptions:[],rules:{origin:[{required:!0,message:"请选择始发地",trigger:"change"}],dest:[{required:!0,message:"请选择目的地",trigger:"change"}],fuelType:[{required:!0,message:"请选择燃料油类型",trigger:"change"}],fuelTypeItem:[{required:!0,message:"请选择动力/燃料油类型",trigger:"change"}],transportWeight:[{required:!0,message:"请输入货物重量",trigger:"blur"}]},queryParams:{pageNum:1,pageSize:30,stationName:null},oriLatAndLng:{},midLatAndLng:{},destLatAndLng:{},stationList1:[],stationList2:[],stationList3:[]}},watch:{"tForm.origin":{handler:function(t,e){t&&this.handlePoints()}},"tForm.freightStation":{handler:function(t,e){var n=this;t&&this.changeMidStation(t).then((function(t){n.handlePoints()}))}},"tForm.dest":{handler:function(t,e){t&&this.handlePoints()}},preTransportItem:{handler:function(t){},immediate:!0}},computed:{getConsumptionUnit:function(){return this.tForm.powerOrFuelName&&this.tForm.powerOrFuelName.match("电")?"kWh":"L"},getMutiTransport:function(){return this.$store.getters.getMutiTransport},preTransportItem:function(){if(!this.$route.query.type){var t=null,e=this.$store.getters.getResultList;return e&&e.length>0&&(t=e[e.length-1]),t}if(!this.$route.query.id)return null}},mounted:function(){var t=this;if(this.getPowerAndFuel(),this.getFactorProjectList(),this.id){this.$store.commit("SET_RESULT_INFO",this.id);var e=this.$store.getters.getResultItem,n=e.oriLatAndLng,r=e.midLatAndLng,a=e.destLatAndLng,i=Object(o.a)(e,m);if(this.$set(this,"tForm",i),!0!==this.quick){this.oriLatAndLng=n,this.midLatAndLng=r,this.destLatAndLng=a,this.stationList1.push(this.tForm.oriOptionItem),this.stationList2.push(this.tForm.midOptionItem),this.stationList3.push(this.tForm.desOptionItem);var c=function(t){var e=d.a.getters.getResultList,n=e.length,r=Object(l.d)(e,{id:t},"id"),a=r.location;return r.hasObj,a+1===n}(this.$route.query.id),u=function(t){var e=d.a.getters.getResultList,n=Object(l.d)(e,{id:t},"id"),r=n.location;return n.hasObj,0===r}(this.$route.query.id);c||(this.cacheDestCity=this.tForm.destCityName),u||(this.cacheOriCity=this.tForm.oriCityName)}}else if("add"===this.type){var f=this.$store.getters.getGoodsInfo||{};this.tForm.transportWeight=f.weight}Object(s.c)("tjsq_railway_fast_fuel_type").then((function(e){t.fuelTypeOptions=e.data.map((function(t){return{label:t.dictLabel,value:t.dictValue}}))})),Object(s.c)("tjsq_freight_station").then((function(e){t.stationList2=e.data.map((function(t){return{label:t.dictLabel,value:t.dictValue}}))})),Object(s.c)("tjsq_railway_fast_fuel_type").then((function(e){t.qucikFuelTypeOptions=e.data.map((function(t){return{label:t.dictLabel,value:t.dictValue}}))}))},methods:{valKgToTWithDecimals:l.j,unitKgToT:l.i,formatNumberDeci:u.formatNumberDeci,checkBoxChange:function(){this.tForm.quickCal&&(this.tForm.origin="",this.tForm.dest="",this.tForm.freightStation="",this.$refs.tForm.clearValidate(),this.$store.commit("INIT_FINAL_IMG")),this.tForm.fuelType=null,this.tForm.powerType=null,this.tForm.fuelTypeItem=[]},getFactorProjectList:function(){var t=this;return Object(i.a)(Object(a.a)().mark((function e(){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.d)();case 2:200===(n=e.sent).code&&(t.projectListOption=n.data);case 4:case"end":return e.stop()}}),e)})))()},handleChange:function(){var t=this;this.tForm.powerType=this.tForm.fuelTypeItem[0],this.tForm.fuelType=this.tForm.fuelTypeItem[1];var e=this.fuelListOptions.find((function(e){return e.value==t.tForm.powerType})),n=e.label,r=e.children.find((function(e){return e.value==t.tForm.fuelType})).label;this.tForm.powerOrFuelName=n+"/"+r},getPowerAndFuel:function(){var t=this;return Object(i.a)(Object(a.a)().mark((function e(){return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(s.g)();case 2:e.sent.data.forEach((function(e){if(1==e.value){var n=Object(r.a)(Object(r.a)({},e),{},{children:e.subFuelVOList.filter((function(t){return 10==t.value}))});t.fuelListOptions=[n]}}));case 4:case"end":return e.stop()}}),e)})))()},handlePoints:function(){var t=[],e=Object.keys(this.midLatAndLng).length&&Object.values(this.midLatAndLng).every((function(t){return t})),n=Object.keys(this.destLatAndLng).length&&Object.values(this.destLatAndLng).every((function(t){return t}));e&&t.push({oriLatAndLng:this.oriLatAndLng,destLatAndLng:this.midLatAndLng,cateNo:this.cateNo}),n&&t.push({oriLatAndLng:e?this.midLatAndLng:this.oriLatAndLng,destLatAndLng:this.destLatAndLng,cateNo:this.cateNo}),this.$store.commit("SET_ADDRESS_LIST",Object(u.initPoints)(t).filter((function(t){return t.originLng&&t.originLat&&t.destLng&&t.destLat})))},searchCityByLng:function(t){var e=this;return Object(i.a)(Object(a.a)().mark((function n(){var r,i;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=t.lng,i=t.lat,n.next=4,e.$parent.$parent.$refs.baiduMap.getCityByLng({lng:r,lat:i});case 4:return n.abrupt("return",n.sent);case 5:case"end":return n.stop()}}),n)})))()},checkPosition:function(t,e){var n=this;return Object(i.a)(Object(a.a)().mark((function r(){var i,o,c,s,u;return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=!0,!e){r.next=17;break}if(!t.lng||!t.lat){r.next=13;break}return o=t.lng,c=t.lat,r.next=8,n.searchCityByLng({lng:o,lat:c});case 8:s=r.sent,u=s.addressComponents.city,i=u===e,r.next=15;break;case 13:i=!1;case 15:r.next=18;break;case 17:i=!0;case 18:return r.abrupt("return",i);case 20:case"end":return r.stop()}}),r)})))()},validateStation:function(){var t=this;return Object(i.a)(Object(a.a)().mark((function e(){var n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,!t.$route.query.id){e.next=7;break}return e.next=4,t.checkEditRight();case 4:n=e.sent,e.next=10;break;case 7:return e.next=9,t.checkAddRight(t.oriLatAndLng);case 9:n=e.sent;case 10:return e.abrupt("return",n);case 11:case"end":return e.stop()}}),e)})))()},savePositionCity:function(t){var e=this;return Object(i.a)(Object(a.a)().mark((function n(){var r,i,o,s,u,l,d,m,f,p,h,g;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.data.originLocation){n.next=11;break}return r=t.data.originLocation.split(",")[0],i=t.data.originLocation.split(",")[1],n.next=5,e.searchCityByLng({lng:r,lat:i});case 5:o=n.sent,e.tForm.oriCityName=o.addressComponents.city,e.tForm.originProvinceName=o.addressComponents.province,n.next=23;break;case 11:if(!e.tForm.oriCityName){n.next=22;break}return s={address:e.tForm.oriCityName},n.next=15,Object(c.d)(s);case 15:(u=n.sent).code,l=u.data,e.tForm.oriCityName=l.city,e.tForm.originProvinceName=l.province,n.next=23;break;case 22:case 23:if(!t.data.destLocation){n.next=33;break}return d=t.data.destLocation.split(",")[0],m=t.data.destLocation.split(",")[1],n.next=28,e.searchCityByLng({lng:d,lat:m});case 28:f=n.sent,e.tForm.destCityName=f.addressComponents.city,e.tForm.destProvinceName=f.addressComponents.province,n.next=46;break;case 33:if(!e.tForm.destCityName){n.next=45;break}return p={address:e.tForm.destCityName},n.next=37,Object(c.d)(p);case 37:(h=n.sent).code,g=h.data,e.tForm.destCityName=g.city,e.tForm.destCountry=g.country,e.tForm.destProvinceName=g.province,n.next=46;break;case 45:case 46:case"end":return n.stop()}}),n)})))()},checkAddRight:function(t){var e=this;return Object(i.a)(Object(a.a)().mark((function n(){var r;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=!0,!e.preTransportItem||!e.preTransportItem.destCityName){n.next=7;break}return n.next=5,e.checkPosition(t,e.preTransportItem.destCityName);case 5:n.sent?r=!0:(e.$message.warning("始发地与上一运输环节目的地不同，请检查。"),e.loading=!1,r=!1);case 7:return n.abrupt("return",r);case 8:case"end":return n.stop()}}),n)})))()},checkEditRight:function(){var t=this;return Object(i.a)(Object(a.a)().mark((function e(){var n,r,i;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!0,!t.cacheOriCity){e.next=9;break}return e.next=6,t.checkPosition(t.oriLatAndLng,t.cacheOriCity);case 6:r=e.sent,n=n&&r,r||t.$message.warning("多式联运中间运输环节始发地城市不可更改");case 9:if(!t.cacheDestCity){e.next=15;break}return e.next=12,t.checkPosition(t.destLatAndLng,t.cacheDestCity);case 12:i=e.sent,n=n&&i,i||t.$message.warning("多式联运中间运输环节目的地城市不可更改");case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e)})))()},submit:function(){var t=this;return Object(i.a)(Object(a.a)().mark((function e(){var n,i,o,s,u;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.loading=!0,e.next=4,t.$refs.tForm.validate();case 4:if(n={origin:t.tForm.origin,dest:t.tForm.dest,freightStation:t.tForm.freightStation,fuelType:t.tForm.fuelType,transportWeight:t.tForm.transportWeight,factorProject:t.tForm.factorProject,transportType:t.tForm.transportType},i=null,!t.tForm.quickCal){e.next=15;break}return o={transportType:7,fuelType:10,actualEnergyConsumption:t.tForm.actualEnergyConsumption,factorProject:t.tForm.factorProject},e.next=12,Object(c.h)(o);case 12:i=e.sent,e.next=24;break;case 15:return e.next=17,t.validateStation();case 17:if(e.sent){e.next=21;break}return t.loading=!1,e.abrupt("return");case 21:return e.next=23,Object(c.i)(n);case 23:i=e.sent;case 24:return e.prev=24,e.next=27,t.savePositionCity(i);case 27:e.next=31;break;case 29:e.prev=29,e.t0=e.catch(24);case 31:if(200!==i.code){e.next=40;break}return s=Object(r.a)(Object(r.a)({},t.tForm),{},{id:i.data.id,distance:i.data.distance,carbonEmissionQty:i.data.carbonEmissionQty,cateNo:t.cateNo,oriLatAndLng:t.oriLatAndLng,midLatAndLng:t.midLatAndLng,destLatAndLng:t.destLatAndLng}),e.next=35,new Promise((function(e,n){t.$emit("saveMap2Image",e,n)}));case 35:(u=e.sent)&&(s.imgSrc=u),"add"===t.type?t.$store.commit("SET_RESULT_LIST",s):"edit"===t.type&&t.$store.commit("EDIT_RESULT_LIST",{data:s,originId:t.id}),t.$router.replace({name:"carbonResult"});case 40:t.loading=!1,e.next=46;break;case 43:e.prev=43,e.t1=e.catch(0),t.loading=!1;case 46:case"end":return e.stop()}}),e,null,[[0,43],[24,29]])})))()},reset:function(){Object.assign(this.tForm,{origin:null,dest:null,fuelType:null,freightStation:null})},resetQuery:function(t,e){this.queryParams.pageNum=1,this.queryParams.stationName=t||"",this["stationList"+e]=[]},remoteStation:function(t,e){this.resetQuery(t,e),this.handleLazyload(e)},handleLazyload:function(t){var e=this;return Object(i.a)(Object(a.a)().mark((function n(){var r,i;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(s.h)(e.queryParams);case 2:if(200===(r=n.sent).code){n.next=5;break}return n.abrupt("return");case 5:if(i=r.rows.map((function(t){return{label:t.nationalNameChn,value:t.railwayStationCode,lng:t.longitude,lat:t.latitude,countryName:t.countryName,nationalNameChn:t.nationalNameChn}})),e["stationList"+t]=e["stationList"+t].concat(i),0!==i.length){n.next=11;break}return n.abrupt("return");case 11:e.queryParams.pageNum++;case 12:case"end":return n.stop()}}),n)})))()},handleSelectVisible:function(t,e){t&&this.remoteStation("",e)},changeStation:function(t,e){var n=this;return Object(i.a)(Object(a.a)().mark((function r(){var i,o;return Object(a.a)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:"1"===e?(i=n.stationList1.find((function(e){return e.value===t})),i&&(n.oriLatAndLng.lng=i.lng,n.oriLatAndLng.lat=i.lat,n.tForm.oriOptionItem=i,n.tForm.originCountry=i.countryName,n.tForm.oriLabel=i.nationalNameChn,n.tForm.oriSubLabel=i.countryName)):"3"===e&&(o=n.stationList3.find((function(e){return e.value===t})),o&&(n.destLatAndLng.lng=o.lng,n.destLatAndLng.lat=o.lat,n.tForm.desOptionItem=o,n.tForm.destCountry=o.countryName,n.tForm.destLabel=o.nationalNameChn,n.tForm.destSubLabel=o.countryName));case 2:case"end":return r.stop()}}),r)})))()},changeMidStation:function(t){var e=this;return Object(i.a)(Object(a.a)().mark((function n(){var r,i;return Object(a.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(r=e.stationList2.find((function(e){return e.value===t})))){n.next=5;break}return i={pageNum:1,pageSize:10,stationName:r.label},n.next=5,Object(s.h)(i).then((function(t){if(200===t.code){var n=t.rows.map((function(t){return{label:t.nationalNameChn,value:t.railwayStationCode,lng:t.longitude,lat:t.latitude,countryName:t.countryName,nationalNameChn:t.nationalNameChn}}))[0];n&&(e.freightStationLabel=n.label,e.midLatAndLng.lng=n.lng,e.midLatAndLng.lat=n.lat,e.tForm.midProvinceName=n.province,e.tForm.midCityName=n.city)}}));case 5:case"end":return n.stop()}}),n)})))()},changeFuelType:function(t){var e=this.fuelTypeOptions.find((function(e){return e.value===t}));this.tForm.powerOrFuelName=e.label}}},p=f,h=(n("b20d"),n("2877")),g=Object(h.a)(p,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"road-transport"},[n("el-form",{ref:"tForm",attrs:{model:t.tForm,rules:t.rules,inline:!0}},["read"===t.type?n("div",{staticClass:"carbon-info"},[n("div",{staticClass:"carbon-title-box"},[n("div",{staticClass:"left"},[n("p",[t._v(" 里程："),n("em",[t._v(t._s(t.formatNumberDeci(t.tForm.distance,3)))]),n("span",{staticClass:"unit"},[t._v("km")])])]),n("div",{staticClass:"right"},[n("p",[t._v(" 温室气体排放:"),n("em",[t._v(t._s(t.valKgToTWithDecimals(t.tForm.carbonEmissionQty,5)))]),n("span",{staticClass:"unit"},[t._v(t._s(t.unitKgToT(t.tForm.carbonEmissionQty,5)))])])])]),n("el-divider")],1):t._e(),n("el-form-item",{attrs:{label:"始发地",prop:t.tForm.quickCal?"":"origin"}},[n("el-select",{directives:[{name:"elSelectLazyloading",rawName:"v-elSelectLazyloading",value:{handleLazyload:function(){return t.handleLazyload("1")}},expression:"{\n            handleLazyload: () => handleLazyload('1'),\n          }"}],attrs:{placeholder:"请选择始发地",disabled:"read"===t.type||t.tForm.quickCal,filterable:"",remote:"","remote-method":function(e){return t.remoteStation(e,"1")}},on:{change:function(e){return t.changeStation(e,"1")},"visible-change":function(e){return t.handleSelectVisible(e,"1")}},model:{value:t.tForm.origin,callback:function(e){t.$set(t.tForm,"origin",e)},expression:"tForm.origin"}},t._l(t.stationList1,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("el-form-item",{attrs:{label:"途经点（出境口岸）",prop:"freightStation"}},[n("el-select",{attrs:{placeholder:"请选择途经点",disabled:"read"===t.type||t.tForm.quickCal,filterable:"",clearable:""},model:{value:t.tForm.freightStation,callback:function(e){t.$set(t.tForm,"freightStation",e)},expression:"tForm.freightStation"}},t._l(t.stationList2,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),n("el-form-item",{attrs:{label:"目的地",prop:t.tForm.quickCal?"":"dest"}},[n("el-select",{directives:[{name:"elSelectLazyloading",rawName:"v-elSelectLazyloading",value:{handleLazyload:function(){return t.handleLazyload("3")}},expression:"{\n            handleLazyload: () => handleLazyload('3'),\n          }"}],attrs:{placeholder:"请选择目的地",disabled:"read"===t.type||t.tForm.quickCal,filterable:"",remote:"","remote-method":function(e){return t.remoteStation(e,"3")}},on:{change:function(e){return t.changeStation(e,"3")},"visible-change":function(e){return t.handleSelectVisible(e,"3")}},model:{value:t.tForm.dest,callback:function(e){t.$set(t.tForm,"dest",e)},expression:"tForm.dest"}},t._l(t.stationList3,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),t.getMutiTransport?t._e():n("el-form-item",{attrs:{label:""}},[n("el-checkbox",{attrs:{disabled:"read"===t.type},on:{change:t.checkBoxChange},model:{value:t.tForm.quickCal,callback:function(e){t.$set(t.tForm,"quickCal",e)},expression:"tForm.quickCal"}},[t._v("采取能耗速算")])],1),n("el-col",{attrs:{span:24}},[t.tForm.quickCal?n("el-form-item",{attrs:{label:"燃料类型",prop:"fuelType"}},[n("el-select",{attrs:{placeholder:"请选择燃料类型",disabled:"read"===t.type},on:{change:t.changeFuelType},model:{value:t.tForm.fuelType,callback:function(e){t.$set(t.tForm,"fuelType",e)},expression:"tForm.fuelType"}},t._l(t.fuelTypeOptions,(function(t){return n("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1):n("el-form-item",{attrs:{label:"动力/燃料类型",prop:"fuelTypeItem"}},[n("el-cascader",{attrs:{options:t.fuelListOptions,props:{expandTrigger:"hover"},disabled:"read"===t.type},on:{change:t.handleChange},model:{value:t.tForm.fuelTypeItem,callback:function(e){t.$set(t.tForm,"fuelTypeItem",e)},expression:"tForm.fuelTypeItem"}})],1)],1),t.tForm.quickCal?n("el-form-item",{attrs:{label:"实际能耗",prop:"actualEnergyConsumption"}},[n("el-input",{attrs:{placeholder:"请输入实际能耗",type:"number",step:"0.01",disabled:"read"===t.type},model:{value:t.tForm.actualEnergyConsumption,callback:function(e){t.$set(t.tForm,"actualEnergyConsumption",e)},expression:"tForm.actualEnergyConsumption"}},[n("template",{slot:"append"},[t._v(t._s(t.getConsumptionUnit))])],2)],1):t._e(),t.tForm.quickCal?t._e():n("el-form-item",{attrs:{label:"货物重量",required:"",prop:"transportWeight"}},[n("el-input",{attrs:{placeholder:"请输入货物重量",disabled:!0},model:{value:t.tForm.transportWeight,callback:function(e){t.$set(t.tForm,"transportWeight",e)},expression:"tForm.transportWeight"}},[n("template",{slot:"append"},[t._v("kg")])],2)],1)],1),"read"!==t.type?n("div",{staticClass:"footer-btns"},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:16}},[n("el-button",{attrs:{type:"primary",loading:t.loading},on:{click:t.submit}},[t._v("提交并测算")])],1),n("el-col",{attrs:{span:8}},[n("el-button",{attrs:{type:"pain"},on:{click:t.reset}},[t._v("重置")])],1)],1)],1):t._e()],1)}),[],!1,null,"6479cf40",null);e.default=g.exports},aed4:function(t,e,n){"use strict";n.r(e),n.d(e,"cateNoList",(function(){return i})),n.d(e,"getTransportIcon",(function(){return o})),n.d(e,"initPoints",(function(){return c})),n.d(e,"formatNumberDeci",(function(){return s})),n.d(e,"getPreTransportItem",(function(){return u})),n("c740"),n("14d9"),n("a9e3"),n("d3b7"),n("159b");var r=n("2ef0"),a=n.n(r),i=[{icon:"goodsTrain",name:"道路运输",cateNo:"glys"},{icon:"railway",name:"铁路运输",cateNo:"tlys"},{icon:"ship",name:"水路运输",cateNo:"syys"},{icon:"airplane",name:"航空运输",cateNo:"kyys"},{icon:"shopStore",name:"仓库",cateNo:"cksy"},{icon:"site",name:"集装箱场站",cateNo:"czsy"},{icon:"wharf",name:"码头",cateNo:"mtsy"},{icon:"help",name:"配送",cateNo:"ps",open:!1},{icon:"port",name:"港口",cateNo:"gk",open:!1},{icon:"inlandPort",name:"内陆港",cateNo:"nlg",open:!1},{icon:"airPort",name:"航空港",cateNo:"hkg",open:!1},{icon:"package",name:"包装",cateNo:"bz",open:!1}];function o(t){var e="";switch(t){case"syys":e="boat";break;case"kyys":e="plant";break;case"tlys":e="train";break;case"glys":e="car";break;case"mtsy":e="wharf";break;case"czsy":e="site";break;case"cksy":e="shop"}return e}var c=function(t){var e=[];return(t||[]).forEach((function(t){var n={};"glys"===t.cateNo?(n.originLocation=t.oriProvinceName+t.oriCityName,n.destLocation=t.destProvinceName+t.destCityName):t.oriLatAndLng&&t.destLatAndLng&&(n.originLng=t.oriLatAndLng.lng,n.originLat=t.oriLatAndLng.lat,n.destLng=t.destLatAndLng.lng,n.destLat=t.destLatAndLng.lat),n.transportType=o(t.cateNo),e.push(n)})),e},s=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return a.a.round(Number(t),e)},u=function(t,e,n){var r=null;if("edit"===n&&e){var a=t.findIndex((function(t){return t.id===e}));a>0&&(r=t[a-1])}else r=t[t.length-1];return r}},b20d:function(t,e,n){"use strict";n("78b9")},ed08:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"g",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return s})),n.d(e,"h",(function(){return u})),n.d(e,"f",(function(){return l})),n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return m})),n.d(e,"j",(function(){return f})),n.d(e,"i",(function(){return h})),n("53ca"),n("d9e2"),n("7db0"),n("a630"),n("a15b"),n("d81d"),n("14d9"),n("fb6a"),n("c19f"),n("ace4"),n("a9e3"),n("b64b"),n("d3b7"),n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("00b4"),n("25f0"),n("6062"),n("3ca3"),n("466d"),n("5319"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("1b3b"),n("3d71"),n("c6e3"),n("81b2"),n("159b"),n("ddb0"),n("0eb6"),n("b7ef"),n("8bd4"),n("2b3d"),n("bf19"),n("9861"),n("c38a");var r=n("2ef0"),a=n.n(r);function i(t,e,n){var r,a,i,o,c,s=function(){var u=+new Date-o;u<e&&u>0?r=setTimeout(s,e-u):(r=null,n||(c=t.apply(i,a),r||(i=a=null)))};return function(){for(var a=arguments.length,u=new Array(a),l=0;l<a;l++)u[l]=arguments[l];i=this,o=+new Date;var d=n&&!r;return r||(r=setTimeout(s,e)),d&&(c=t.apply(i,u),i=u=null),c}}function o(t,e){for(var n=Object.create(null),r=t.split(","),a=0;a<r.length;a++)n[r[a]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}var c="export default ",s={html:{indent_size:"2",indent_char:" ",max_preserve_newlines:"-1",preserve_newlines:!1,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"separate",brace_style:"end-expand",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!1,end_with_newline:!0,wrap_line_length:"110",indent_inner_html:!0,comma_first:!1,e4x:!0,indent_empty_lines:!0},js:{indent_size:"2",indent_char:" ",max_preserve_newlines:"-1",preserve_newlines:!1,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"end-expand",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!0,end_with_newline:!0,wrap_line_length:"110",indent_inner_html:!0,comma_first:!1,e4x:!0,indent_empty_lines:!0}};function u(t){return t.replace(/( |^)[a-z]/g,(function(t){return t.toUpperCase()}))}function l(t){return/^[+-]?(0|([1-9]\d*))(\.\d+)?$/g.test(t)}function d(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",r=NaN;return!t.length||t.length<=0?{hasObj:!1,location:r}:{hasObj:t.find((function(t,a){return!(t[n]!=e[n]||!e[n]||(r=a,0))})),location:r}}function m(t){if("city"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"city"))return t.destCityName||t.destProvinceName}function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return String(t).split(".")[0].length>e?p(Number(t)/1e3):p(Number(t))}function p(t){return a.a.round(Number(t),3)}function h(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return String(t).split(".")[0].length>e?"t":"kg"}}}]);