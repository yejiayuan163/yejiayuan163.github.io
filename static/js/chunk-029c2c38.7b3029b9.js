(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-029c2c38"],{2148:function(e,t,n){},9429:function(e,t,n){"use strict";n.r(t);var r=n("4360"),i=n("7e79"),o=n("c0c7"),s=n("ed08"),a={components:{VueCropper:i.VueCropper},props:{user:{type:Object}},data:function(){return{open:!1,visible:!1,title:"修改头像",options:{img:r.a.getters.avatar,autoCrop:!0,autoCropWidth:200,autoCropHeight:200,fixedBox:!0,outputType:"png"},previews:{},resizeHandler:null}},methods:{editCropper:function(){this.open=!0},modalOpened:function(){var e=this;this.visible=!0,this.resizeHandler||(this.resizeHandler=Object(s.b)((function(){e.refresh()}),100)),window.addEventListener("resize",this.resizeHandler)},refresh:function(){this.$refs.cropper.refresh()},requestUpload:function(){},rotateLeft:function(){this.$refs.cropper.rotateLeft()},rotateRight:function(){this.$refs.cropper.rotateRight()},changeScale:function(e){e=e||1,this.$refs.cropper.changeScale(e)},beforeUpload:function(e){var t=this;if(-1==e.type.indexOf("image/"))this.$modal.msgError("文件格式错误，请上传图片类型,如：JPG，PNG后缀的文件。");else{var n=new FileReader;n.readAsDataURL(e),n.onload=function(){t.options.img=n.result}}},uploadImg:function(){var e=this;this.$refs.cropper.getCropBlob((function(t){var n=new FormData;n.append("avatarfile",t),Object(o.n)(n).then((function(t){e.open=!1,e.options.img=t.imgUrl,r.a.commit("SET_AVATAR",e.options.img),e.$modal.msgSuccess("修改成功"),e.visible=!1}))}))},realTime:function(e){this.previews=e},closeDialog:function(){this.options.img=r.a.getters.avatar,this.visible=!1,window.removeEventListener("resize",this.resizeHandler)}}},u=a,c=(n("ac9c"),n("2877")),l=Object(c.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"user-info-head",on:{click:function(t){return e.editCropper()}}},[n("img",{staticClass:"img-circle img-lg",attrs:{src:e.options.img,title:"点击上传头像"}})]),n("el-dialog",{attrs:{title:e.title,visible:e.open,width:"800px","append-to-body":""},on:{"update:visible":function(t){e.open=t},opened:e.modalOpened,close:e.closeDialog}},[n("el-row",[n("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[e.visible?n("vue-cropper",{ref:"cropper",attrs:{img:e.options.img,info:!0,autoCrop:e.options.autoCrop,autoCropWidth:e.options.autoCropWidth,autoCropHeight:e.options.autoCropHeight,fixedBox:e.options.fixedBox,outputType:e.options.outputType},on:{realTime:e.realTime}}):e._e()],1),n("el-col",{style:{height:"350px"},attrs:{xs:24,md:12}},[n("div",{staticClass:"avatar-upload-preview"},[n("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])],1),n("br"),n("el-row",[n("el-col",{attrs:{lg:2,sm:3,xs:3}},[n("el-upload",{attrs:{action:"#","http-request":e.requestUpload,"show-file-list":!1,"before-upload":e.beforeUpload}},[n("el-button",{attrs:{size:"small"}},[e._v(" 选择 "),n("i",{staticClass:"el-icon-upload el-icon--right"})])],1)],1),n("el-col",{attrs:{lg:{span:1,offset:2},sm:2,xs:2}},[n("el-button",{attrs:{icon:"el-icon-plus",size:"small"},on:{click:function(t){return e.changeScale(1)}}})],1),n("el-col",{attrs:{lg:{span:1,offset:1},sm:2,xs:2}},[n("el-button",{attrs:{icon:"el-icon-minus",size:"small"},on:{click:function(t){return e.changeScale(-1)}}})],1),n("el-col",{attrs:{lg:{span:1,offset:1},sm:2,xs:2}},[n("el-button",{attrs:{icon:"el-icon-refresh-left",size:"small"},on:{click:function(t){return e.rotateLeft()}}})],1),n("el-col",{attrs:{lg:{span:1,offset:1},sm:2,xs:2}},[n("el-button",{attrs:{icon:"el-icon-refresh-right",size:"small"},on:{click:function(t){return e.rotateRight()}}})],1),n("el-col",{attrs:{lg:{span:2,offset:6},sm:2,xs:2}},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.uploadImg()}}},[e._v("提 交")])],1)],1)],1)],1)}),[],!1,null,"69320ba4",null);t.default=l.exports},ac9c:function(e,t,n){"use strict";n("2148")},c0c7:function(e,t,n){"use strict";n.d(t,"h",(function(){return o})),n.d(t,"f",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"k",(function(){return u})),n.d(t,"c",(function(){return c})),n.d(t,"i",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"g",(function(){return p})),n.d(t,"l",(function(){return f})),n.d(t,"m",(function(){return m})),n.d(t,"n",(function(){return h})),n.d(t,"e",(function(){return b})),n.d(t,"j",(function(){return g})),n.d(t,"d",(function(){return v}));var r=n("b775"),i=n("c38a");function o(e){return Object(r.a)({url:"/system/user/list",method:"get",params:e})}function s(e){return Object(r.a)({url:"/system/user/"+Object(i.e)(e),method:"get"})}function a(e){return Object(r.a)({url:"/system/user",method:"post",data:e})}function u(e){return Object(r.a)({url:"/system/user",method:"put",data:e})}function c(e){return Object(r.a)({url:"/system/user/"+e,method:"delete"})}function l(e,t){var n={userId:e,password:t};return Object(r.a)({url:"/system/user/resetPwd",method:"put",data:n})}function d(e,t){var n={userId:e,status:t};return Object(r.a)({url:"/system/user/changeStatus",method:"put",data:n})}function p(){return Object(r.a)({url:"/system/user/profile",method:"get"})}function f(e){return Object(r.a)({url:"/system/user/profile",method:"put",data:e})}function m(e,t){var n={oldPassword:e,newPassword:t};return Object(r.a)({url:"/system/user/profile/updatePwd",method:"put",params:n})}function h(e){return Object(r.a)({url:"/system/user/profile/avatar",method:"post",data:e})}function b(e){return Object(r.a)({url:"/system/user/authRole/"+e,method:"get"})}function g(e){return Object(r.a)({url:"/system/user/authRole",method:"put",params:e})}function v(){return Object(r.a)({url:"/system/user/deptTree",method:"get"})}},ed08:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return s})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return u})),n.d(t,"h",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"j",(function(){return f})),n.d(t,"i",(function(){return h})),n("53ca"),n("d9e2"),n("7db0"),n("a630"),n("a15b"),n("d81d"),n("14d9"),n("fb6a"),n("c19f"),n("ace4"),n("a9e3"),n("b64b"),n("d3b7"),n("4d63"),n("c607"),n("ac1f"),n("2c3e"),n("00b4"),n("25f0"),n("6062"),n("3ca3"),n("466d"),n("5319"),n("5cc6"),n("907a"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("986a"),n("1d02"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("1b3b"),n("3d71"),n("c6e3"),n("81b2"),n("159b"),n("ddb0"),n("0eb6"),n("b7ef"),n("8bd4"),n("2b3d"),n("bf19"),n("9861"),n("c38a");var r=n("2ef0"),i=n.n(r);function o(e,t,n){var r,i,o,s,a,u=function(){var c=+new Date-s;c<t&&c>0?r=setTimeout(u,t-c):(r=null,n||(a=e.apply(o,i),r||(o=i=null)))};return function(){for(var i=arguments.length,c=new Array(i),l=0;l<i;l++)c[l]=arguments[l];o=this,s=+new Date;var d=n&&!r;return r||(r=setTimeout(u,t)),d&&(a=e.apply(o,c),o=c=null),a}}function s(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return n[e.toLowerCase()]}:function(e){return n[e]}}var a="export default ",u={html:{indent_size:"2",indent_char:" ",max_preserve_newlines:"-1",preserve_newlines:!1,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"separate",brace_style:"end-expand",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!1,end_with_newline:!0,wrap_line_length:"110",indent_inner_html:!0,comma_first:!1,e4x:!0,indent_empty_lines:!0},js:{indent_size:"2",indent_char:" ",max_preserve_newlines:"-1",preserve_newlines:!1,keep_array_indentation:!1,break_chained_methods:!1,indent_scripts:"normal",brace_style:"end-expand",space_before_conditional:!0,unescape_strings:!1,jslint_happy:!0,end_with_newline:!0,wrap_line_length:"110",indent_inner_html:!0,comma_first:!1,e4x:!0,indent_empty_lines:!0}};function c(e){return e.replace(/( |^)[a-z]/g,(function(e){return e.toUpperCase()}))}function l(e){return/^[+-]?(0|([1-9]\d*))(\.\d+)?$/g.test(e)}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"id",r=NaN;return!e.length||e.length<=0?{hasObj:!1,location:r}:{hasObj:e.find((function(e,i){return!(e[n]!=t[n]||!t[n]||(r=i,0))})),location:r}}function p(e){if("city"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"city"))return e.destCityName||e.destProvinceName}function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return String(e).split(".")[0].length>t?m(Number(e)/1e3):m(Number(e))}function m(e){return i.a.round(Number(e),3)}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6;return String(e).split(".")[0].length>t?"t":"kg"}}}]);